[tox]
minversion = 2.1
envlist = py35, py36, py37, pep8
skipsdist = True

[testenv]
usedevelop = true
install_command = pip install -U {opts} {packages}
pip_version = 18.1
setenv =
  VIRTUAL_ENV={envdir}
  LANGUAGE=en_US
  LC_ALL=en_US.utf-8
  CMAKE_CXX_COMPILER=g++-7
deps = numpy>=1.13
       Cython>=0.27.1
commands =
    pip install -U git+https://github.com/Qiskit/qiskit-terra.git
    pip install -U scikit-build
    python tools/build_aer.py
    pip install -U -r{toxinidir}/requirements-dev.txt
    python -m unittest -v

[testenv:lint]
deps =
  pycodestyle
  pylint
commands =
  pycodestyle qiskit/ignis test/
  pylint -rn --rcfile={toxinidir}/.pylintrc qiskit/ignis test/
